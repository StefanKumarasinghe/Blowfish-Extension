<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blowfish</title>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="popup.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê°</text></svg>">
</head>
<body>
    <header class="header">
        <h1>Blowfish ASE</h1>
        <p class="subtitle">Web Vulnerability Analyzer</p>
    </header>

    <section class="status-bar">
        <div class="scan-status">
            <div class="status-indicator" id="statusIndicator"></div>
            <div id="statusInfo">
                <div id="statusText">Ready</div>
                <div id="domainInfo"></div>
            </div>
        </div>
        <button class="scan-button" id="scanButton">
            <span class="material-icons">search</span>
            Scan
        </button>
    </section>

    <main class="content" id="content">
        <section class="community-section">
            <div class="community-header">
                <div class="community-title">
                    <span class="material-icons">people</span>
                    Community Safety
                </div>
                <div class="community-confidence" id="communityConfidence">Loading...</div>
            </div>

            <div class="safety-meter-container">
                <div class="safety-meter">
                    <div class="meter-background">
                        <div class="meter-fill" id="meterFill"></div>
                    </div>
                    <div class="meter-labels">
                        <span class="meter-label-left">Not Safe</span>
                        <span class="meter-percentage" id="meterPercentage">--</span>
                        <span class="meter-label-right">Safe</span>
                    </div>
                </div>
                <div class="vote-stats" id="voteStats">
                    <span class="vote-count">
                        <span class="material-icons">thumb_up</span>
                        <span id="safeVotes">0</span>
                    </span>
                    <span class="vote-count">
                        <span class="material-icons">thumb_down</span>
                        <span id="unsafeVotes">0</span>
                    </span>
                </div>
            </div>

            <div class="user-feedback">
                <div class="feedback-question">Is this site safe?</div>
                <div class="feedback-buttons">
                    <button class="feedback-btn" id="safeFeedbackBtn">
                        <span class="material-icons">thumb_up</span>
                        Safe
                    </button>
                    <button class="feedback-btn" id="unsafeFeedbackBtn">
                        <span class="material-icons">thumb_down</span>
                        Not Safe
                    </button>
                </div>
                <div class="feedback-status" id="feedbackStatus"></div>
            </div>
        </section>
        <section class="results-summary" id="resultsSummary">
            <div class="header-row">
                <div class="results-title">
                    <span class="material-icons">description</span>
                    Scan Results
                </div>
                <button class="icon-button" id="clearHighlightsBtn">
                    <span class="material-icons">visibility_off</span>
                </button>
            </div>
            <div class="scan-info" id="scanInfo">Scanned: <span id="scanUrl"></span></div>
            <div class="severity-grid" id="severityGrid">
                <div class="severity-item severity-critical">
                    <span class="material-icons">error</span>
                    Critical: <strong id="criticalCount">0</strong>
                </div>
                <div class="severity-item severity-high">
                    <span class="material-icons">warning</span>
                    High: <strong id="highCount">0</strong>
                </div>
                <div class="severity-item severity-medium">
                    <span class="material-icons">report_problem</span>
                    Medium: <strong id="mediumCount">0</strong>
                </div>
                <div class="severity-item severity-low">
                    <span class="material-icons">info</span>
                    Low: <strong id="lowCount">0</strong>
                </div>
            </div>
        </section>

        <div class="issues-list" id="issuesList"></div>

        <div id="reportContainer" class="report-container" hidden></div>

        <div class="no-issues" id="noIssues">
            <span class="material-icons success-icon">verified_user</span>
            <div class="title">Page is Secure</div>
            <div class="description">No security issues detected</div>
        </div>

        <section class="settings-section">
            <h2 class="section-title">
                <span class="material-icons">settings</span>
                Settings
            </h2>
            <div class="setting-item">
                <label for="autoScanToggle" class="setting-label">Auto-scan pages</label>
                <div class="toggle-switch active" id="autoScanToggle"></div>
            </div>
            <div class="setting-item">
                <label for="notificationsToggle" class="setting-label">Show notifications</label>
                <div class="toggle-switch active" id="notificationsToggle"></div>
            </div>
            <div class="setting-item">
                <label for="themeToggle" class="setting-label">Light theme</label>
                <div class="toggle-switch active" id="themeToggle"></div>
            </div>
            <div class="setting-item">
                <label for="highlightToggle" class="setting-label">Show highlights on page</label>
                <div class="toggle-switch active" id="highlightToggle"></div>
            </div>
            <div class="setting-item">
                <label class="setting-label">Hide scanner bubble</label>
                <div class="toggle-switch" id="hideBubbleToggle"></div>
            </div>
        </section>

        <section class="settings-section">
            <h2 class="section-title">
                <span class="material-icons">shield</span>
                Web Hardening
                <span id="hardeningStatus" class="status-badge">OFF</span>
            </h2>
            <p class="section-description">Protect against attacks by blocking dangerous content</p>

            <div class="hardening-grid">
                <button class="hardening-btn" id="hardeningMegaBtn" data-level="mega">
                    <span class="material-icons">lock</span>
                    <div class="hardening-level-name">Mega</div>
                    <div class="hardening-level-desc">Maximum Security</div>
                </button>
                <button class="hardening-btn" id="hardeningMediumBtn" data-level="medium">
                    <span class="material-icons">tune</span>
                    <div class="hardening-level-name">Medium</div>
                    <div class="hardening-level-desc">Balanced Protection</div>
                </button>
                <button class="hardening-btn" id="hardeningLowBtn" data-level="low">
                    <span class="material-icons">info</span>
                    <div class="hardening-level-name">Low</div>
                    <div class="hardening-level-desc">Basic Protection</div>
                </button>
                <button class="hardening-btn active" id="hardeningOffBtn" data-level="off">
                    <span class="material-icons">block</span>
                    <div class="hardening-level-name">Off</div>
                    <div class="hardening-level-desc">No Protection</div>
                </button>
            </div>

            <div id="hardeningInfo" class="info-box">
                <div id="hardeningInfoTitle">Protection Level</div>
                <div id="hardeningInfoDesc">Select a protection level above</div>
                <div id="hardeningInfoDetails"></div>
            </div>

            <div id="hardeningStats" class="stats-box">
                <span class="material-icons">check_circle</span>
                <span id="blockedElementsCount">0</span> elements blocked
            </div>
        </section>



        <section class="settings-section">
            <div class="whitelist-header">
                <h2 class="section-title">
                    <span class="material-icons">checklist</span>
                    Whitelist
                </h2>
                <div class="whitelist-buttons">
                    <button class="action-btn secondary-btn" id="clearWhitelistBtn">
                        <span class="material-icons">delete</span>
                        Clear All
                    </button>
                    <button class="action-btn primary-btn" id="addToWhitelistBtn">
                        <span class="material-icons">add</span>
                        Add Site
                    </button>
                </div>
            </div>
            <p class="section-description">Sites in the whitelist will not be scanned automatically</p>

            <div class="whitelist-container">
                <div class="whitelist-items" id="whitelistItems"></div>
                <div class="no-whitelist-items" id="noWhitelistItems">
                    <span class="material-icons block">inbox</span>
                    No sites in whitelist
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <span class="material-icons">verified_user</span>
        Stefan Kumarasinghe ¬© 2026 Blowfish Project
    </footer>

    <script src="popup.js"></script>
</body>
</html>